<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sequential Legal Documents Flow Test</title>
    <link rel="stylesheet" href="assets/css/styles.css">
    <link rel="stylesheet" href="assets/css/legal-documents.css">
    <style>
        .test-container {
            padding: 2rem;
            text-align: center;
            max-width: 800px;
            margin: 0 auto;
        }
        .test-section {
            margin: 2rem 0;
            padding: 2rem;
            background: var(--bg-secondary);
            border-radius: 8px;
        }
        .flow-step {
            margin: 1rem 0;
            padding: 1rem;
            border: 1px solid var(--glass-border);
            border-radius: 8px;
            background: var(--bg-primary);
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>Sequential Legal Documents Flow Test</h1>
        <p>Testing the new sequential document signing flow</p>
        
        <div class="test-section">
            <h3>New Flow Steps</h3>
            
            <div class="flow-step">
                <h4>1Ô∏è‚É£ Document 1: Privacy Policy</h4>
                <p>User reads and signs the Privacy Policy with a single button</p>
                <p><strong>Expected:</strong> Auto-advance to next document</p>
            </div>
            
            <div class="flow-step">
                <h4>2Ô∏è‚É£ Document 2: Terms of Service</h4>
                <p>User reads and signs the Terms of Service with a single button</p>
                <p><strong>Expected:</strong> Auto-advance to next document</p>
            </div>
            
            <div class="flow-step">
                <h4>3Ô∏è‚É£ Document 3: User Agreement</h4>
                <p>User reads and signs the User Agreement with a single button</p>
                <p><strong>Expected:</strong> Show completion message with final agreement button</p>
            </div>
            
            <div class="flow-step">
                <h4>4Ô∏è‚É£ Final Agreement</h4>
                <p>User clicks "Complete Registration & Start My Journey"</p>
                <p><strong>Expected:</strong> Registration completes and user proceeds</p>
            </div>
        </div>
        
        <div class="test-section">
            <h3>Test the Flow</h3>
            <button id="test-flow-btn" class="cta-button primary">
                üöÄ Test Sequential Legal Documents Flow
            </button>
        </div>
        
        <div class="test-section">
            <h3>Flow Features</h3>
            <ul style="text-align: left;">
                <li>‚úÖ Documents are presented one at a time</li>
                <li>‚úÖ Each document requires individual signing</li>
                <li>‚úÖ Next button is disabled until current document is signed</li>
                <li>‚úÖ Auto-advance to next document after signing</li>
                <li>‚úÖ Final completion screen with all signed documents listed</li>
                <li>‚úÖ Single final agreement button to complete registration</li>
                <li>‚úÖ No more "Complete Registration" button until all documents are signed</li>
            </ul>
        </div>
    </div>

    <script src="assets/js/legal-documents.js"></script>
    <script>
        const testBtn = document.getElementById('test-flow-btn');
        
        testBtn.addEventListener('click', async () => {
            try {
                if (window.LegalDocumentsSystem) {
                    const legalSystem = new window.LegalDocumentsSystem();
                    
                    await legalSystem.initialize({
                        id: 'test_user_sequential',
                        name: 'Test User',
                        email: 'test@sequential.com'
                    });
                    
                    console.log('‚úÖ Sequential legal documents flow started successfully!');
                } else {
                    console.error('‚ùå LegalDocumentsSystem not found');
                }
            } catch (error) {
                console.error('‚ùå Error starting sequential flow:', error);
            }
        });
    </script>
</body>
</html>
